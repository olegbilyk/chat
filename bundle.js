!function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,n){"use strict";function a(e,t){if(1===arguments.length){for(var n=e[0],r=1;r<e.length;r++)n=a(n,e[r]);return n}for(var s in t)if("class"===s){var i=e[s]||[];e[s]=(Array.isArray(i)?i:[i]).concat(t[s]||[])}else if("style"===s){var i=u(e[s]),o=u(t[s]);e[s]=i+o}else e[s]=t[s];return e}function r(e,t){for(var n,a="",r="",s=Array.isArray(t),u=0;u<e.length;u++)(n=i(e[u]))&&(s&&t[u]&&(n=c(n)),a=a+r+n,r=" ");return a}function s(e){var t="",n="";for(var a in e)a&&e[a]&&v.call(e,a)&&(t=t+n+a,n=" ");return t}function i(e,t){return Array.isArray(e)?r(e,t):e&&"object"==typeof e?s(e):e||""}function u(e){if(!e)return"";if("object"==typeof e){var t="";for(var n in e)v.call(e,n)&&(t=t+n+":"+e[n]+";");return t}return e+="",";"!==e[e.length-1]?e+";":e}function o(e,t,n,a){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(a?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),n||-1===t.indexOf('"'))?(n&&(t=c(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}function l(e,t){var n="";for(var a in e)if(v.call(e,a)){var r=e[a];if("class"===a){r=i(r),n=o(a,r,!1,t)+n;continue}"style"===a&&(r=u(r)),n+=o(a,r,!1,t)}return n}function c(e){var t=""+e,n=d.exec(t);if(!n)return e;var a,r,s,i="";for(a=n.index,r=0;a<t.length;a++){switch(t.charCodeAt(a)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}r!==a&&(i+=t.substring(r,a)),r=a+1,i+=s}return r!==a?i+t.substring(r,a):i}function f(e,t,a,r){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&t||r))throw e.message+=" on line "+a,e;try{r=r||n(10).readFileSync(t,"utf8")}catch(t){f(e,null,a)}var s=3,i=r.split("\n"),u=Math.max(a-s,0),o=Math.min(i.length,a+s),s=i.slice(u,o).map(function(e,t){var n=t+u+1;return(n==a?"  > ":"    ")+n+"| "+e}).join("\n");throw e.path=t,e.message=(t||"Pug")+":"+a+"\n"+s+"\n\n"+e.message,e}var v=Object.prototype.hasOwnProperty;t.merge=a,t.classes=i,t.style=u,t.attr=o,t.attrs=l;var d=/["&<>]/;t.escape=c,t.rethrow=f},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(2),u=a(i),o=n(3),l=a(o);n(5);var c=function(){function e(t){var n=t.el;r(this,e),this.el=n,this._createComponents(),this._initMediate(),this.render()}return s(e,[{key:"render",value:function(){this.el.appendChild(this.chat.el),this.el.appendChild(this.form.el),this.chat.render(),this.form.render()}},{key:"_createComponents",value:function(){this.chat=new u.default({el:document.createElement("div"),data:{user:"Oleg",messages:[]}}),this.form=new l.default({el:document.createElement("div")})}},{key:"_initMediate",value:function(){var e=this;this.form.on("message",function(t){var n=t.detail;console.log(n),e.chat.addMessage({text:n.message.value}),e.chat.render(),e.form.reset()})}},{key:"addMessage",value:function(e){this.chat.addMessage(e)}}]),e}();t.default=c},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(8),i=function(e){return e&&e.__esModule?e:{default:e}}(s);n(6);var u=function(){function e(t){var n=t.el,r=t.data,s=void 0===r?{user:"",messages:[]}:r;a(this,e),this.el=n,this.data=s}return r(e,[{key:"render",value:function(){this.el.classList.add("chat"),this.el.innerHTML=(0,i.default)(this.data)}},{key:"addMessage",value:function(e){this.data.messages.push({avatar:"https://avatars2.githubusercontent.com/u/15265408?v=4&s=50",name:e.name||this.data.user,isMine:!0,text:e.text,date:e.date||new Date})}},{key:"setUserName",value:function(e){this.data.user=e}}]),e}();t.default=u},function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(9),u=function(e){return e&&e.__esModule?e:{default:e}}(i);n(7);var o=function(){function e(t){var n=t.el;r(this,e),this.el=n,this._initEvents()}return s(e,[{key:"render",value:function(){this.el.classList.add("form-chat"),this.el.innerHTML=(0,u.default)(),this.formEl=this.el.querySelector("form")}},{key:"on",value:function(e,t){this.el.addEventListener(e,t)}},{key:"trigger",value:function(e,t){var n=new CustomEvent(e,{detail:t});this.el.dispatchEvent(n)}},{key:"reset",value:function(){this.formEl.reset()}},{key:"_initEvents",value:function(){this.el.addEventListener("submit",this._onSubmit.bind(this))}},{key:"_onSubmit",value:function(e){e.preventDefault();var t=this._getFormData();this.trigger("message",t)}},{key:"_getInputs",value:function(){return this.el.querySelectorAll("input, textarea")}},{key:"_getFormData",value:function(){var e={};return[].concat(a(this._getInputs())).forEach(function(t){e[t.name]={value:t.value}}),e}}]),e}();t.default=o},function(e,t,n){"use strict";var a=n(1);new(function(e){return e&&e.__esModule?e:{default:e}}(a).default)({el:document.getElementById("app")})},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){function a(e){var t,n="",a=e||{};return function(e,a){n=n+'<div class="chat__container"><div class="chat__header"><h4 class="title">'+r.escape(null==(t="Добро пожаловать "+a)?"":t)+'</h4></div><div class="chat__body">',e.length||(n+='<h3 class="no-message">Пока нет сообщений</h3>'),function(){var a=e;if("number"==typeof a.length)for(var s=0,i=a.length;s<i;s++){var u=a[s];n=n+"<div"+r.attr("class",r.classes(["message",u.isMine?"message_user":"message_left-avatar"],[!1,!0]),!1,!0)+'>\x3c!--div.message__avatar--\x3e\x3c!--  img(src=message.avatar alt=\'name of user\')--\x3e<div class="message__box">\x3c!--span.message__name=message.name--\x3e<p class="message__text">'+r.escape(null==(t=u.text)?"":t)+'</p><span class="message__time">'+r.escape(null==(t=u.date.toTimeString().split(" ")[0])?"":t)+"</span></div></div>"}else{var i=0;for(var s in a){i++;var u=a[s];n=n+"<div"+r.attr("class",r.classes(["message",u.isMine?"message_user":"message_left-avatar"],[!1,!0]),!1,!0)+'>\x3c!--div.message__avatar--\x3e\x3c!--  img(src=message.avatar alt=\'name of user\')--\x3e<div class="message__box">\x3c!--span.message__name=message.name--\x3e<p class="message__text">'+r.escape(null==(t=u.text)?"":t)+'</p><span class="message__time">'+r.escape(null==(t=u.date.toTimeString().split(" ")[0])?"":t)+"</span></div></div>"}}}.call(this),n+="</div></div>"}.call(this,"messages"in a?a.messages:"undefined"!=typeof messages?messages:void 0,"user"in a?a.user:"undefined"!=typeof user?user:void 0),n}var r=n(0);e.exports=a},function(e,t,n){function a(e){var t="";return t+='<form><textarea name="message" placeholder="Type a message"></textarea><button class="button button_icon-send" value="Отправить" type="submit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path opacity=".4" d="M1.101 21.757L23.8 12.028 1.101 2.3l.011 7.912 13.623 1.816-13.623 1.817-.011 7.912z"></path></svg></button></form>'}n(0);e.exports=a},function(e,t){}]);